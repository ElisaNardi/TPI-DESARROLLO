<!-- 
  register.component.html
  El contenedor principal aplicará el círculo y el ícono usando CSS ::before y ::after.
  Su único hijo en el HTML es el contenedor del formulario.
-->
<div class="register-container">

  <div class="register-form-wrapper">
    <h2>Registrarse</h2>

    <form [formGroup]="registerForm" (ngSubmit)="onSubmit()">
      
      <div class="form-group">
        <label for="nombre">Nombre</label>
        <input type="text" id="nombre" formControlName="nombre">
        @if (isInvalid('nombre')) {
          <div class="error-message">El nombre es requerido.</div>
        }
      </div>

      <div class="form-group">
        <label for="apellido">Apellido</label>
        <input type="text" id="apellido" formControlName="apellido">
        @if (isInvalid('apellido')) {
          <div class="error-message">El apellido es requerido.</div>
        }
      </div>
      
      <div class="form-group">
        <label for="email">Email</label>
        <input type="email" id="email" formControlName="email">
        @if (isInvalid('email')) {
          <div class="error-message">Ingrese un email válido.</div>
        }
      </div>

      <div class="form-group">
        <label for="password">Contraseña</label>
        <input type="password" id="password" formControlName="password">
        @if (isInvalid('password')) {
          <div class="error-message">La contraseña debe tener al menos 6 caracteres.</div>
        }
      </div>
      
      <div class="form-group">
        <label for="confirmPassword">Confirmar contraseña</label>
        <input type="password" id="confirmPassword" formControlName="confirmPassword">
        @if (registerForm.hasError('mismatch') && registerForm.get('confirmPassword')?.touched) {
          <div class="error-message">Las contraseñas no coinciden.</div>
        }
      </div>

      <div class="button-group">
        <button type="submit" class="primary-button" [disabled]="registerForm.invalid">
          Registrarse
        </button>
      </div>

    </form>
  </div>

</div>